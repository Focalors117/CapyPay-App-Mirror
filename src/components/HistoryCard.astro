---
const { date, description } = Astro.props;
let amount = Astro.props.amount;
let isNegative = amount.toString().includes("-");

// Determine colors based on transaction type for a dark theme (High Impact)
const amountColor = isNegative ? "text-purple-400" : "text-[#d7fd48]";
const iconBg = isNegative ? "bg-purple-500/10" : "bg-[#d7fd48]/10";
const iconColor = isNegative ? "text-purple-400" : "text-[#d7fd48]";

const displayAmount = isNegative ? amount : `+${amount}`;
---

<div
  class="group flex items-center justify-between p-4 rounded-xl bg-neutral-900 border border-white/5 transition-all duration-300 cursor-pointer w-[calc(100%-8px)] mx-auto hover:bg-neutral-800 hover:border-[#d7fd48]/30 hover:scale-[1.01] overflow-hidden"
>
  <div class="flex items-center gap-4 min-w-0">
    <div
      class={`w-12 h-12 rounded-full ${iconBg} flex items-center justify-center ${iconColor} transition-transform shrink-0`}
    >
      {
        isNegative ? (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 14l-7 7m0 0l-7-7m7 7V3"
            />
          </svg>
        ) : (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 10l7-7m0 0l7 7m-7-7v18"
            />
          </svg>
        )
      }
    </div>

    <div class="flex flex-col min-w-0">
      <h4 class="text-sm font-bold text-white truncate">{description}</h4>
      <p class="text-[10px] text-slate-500">{date}</p>
    </div>
  </div>

  <div class={`text-sm font-bold ${amountColor} whitespace-nowrap`}>
    {displayAmount}
  </div>
</div>

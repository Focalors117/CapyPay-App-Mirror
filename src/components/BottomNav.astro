---

---

<nav
  class="fixed bottom-0 left-0 w-full bg-[#18181b]/95 backdrop-blur-lg border-t border-white/10 md:hidden z-50 px-4 py-2 pb-safe flex justify-around items-center shadow-2xl"
>
  <!-- Home / Dashboard -->
  <a
    href="/dashboard"
    class="flex flex-col items-center gap-0.5 text-slate-400 hover:text-white transition-colors group min-w-[50px]"
    data-nav="dashboard"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5 sm:h-6 sm:w-6 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
      ></path>
    </svg>
    <span class="text-[9px] sm:text-[10px] font-medium">Inicio</span>
  </a>

  <!-- Historial -->
  <a
    href="/history"
    class="flex flex-col items-center gap-0.5 text-slate-400 hover:text-white transition-colors group min-w-[50px]"
    data-nav="history"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5 sm:h-6 sm:w-6 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
      ></path>
    </svg>
    <span class="text-[9px] sm:text-[10px] font-medium">Historial</span>
  </a>

  <!-- QR Code (Center Action) -->
  <button
    class="relative -top-4 bg-brand-lime text-black p-3.5 sm:p-4 rounded-full shadow-[0_0_20px_rgba(215,253,73,0.4)] hover:scale-105 transition-transform border-4 border-[#18181b]"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5 sm:h-6 sm:w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"
      ></path>
    </svg>
  </button>

  <!-- Contactos -->
  <a
    href="/contacts"
    class="flex flex-col items-center gap-0.5 text-slate-400 hover:text-white transition-colors group min-w-[50px]"
    data-nav="contacts"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5 sm:h-6 sm:w-6 group-hover:scale-110 transition-transform"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"
      ></path>
    </svg>
    <span class="text-[9px] sm:text-[10px] font-medium">Contactos</span>
  </a>

  <!-- Profile -->
  <a
    href="/settings"
    class="flex flex-col items-center gap-0.5 text-slate-400 hover:text-white transition-colors group min-w-[50px]"
    data-nav="settings"
  >
    <div
      class="w-5 h-5 sm:w-6 sm:h-6 rounded-full overflow-hidden border border-white/20 group-hover:border-brand-lime transition-colors"
    >
      <img
        src="https://api.dicebear.com/9.x/lorelei/svg?seed=Aneka"
        alt="Profile"
        class="w-full h-full object-cover"
      />
    </div>
    <span class="text-[9px] sm:text-[10px] font-medium">Perfil</span>
  </a>
</nav>

<style>
  /* Safe area text for Phone Home Indicator */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }

  /* Active state for nav items */
  a[data-nav].active svg {
    color: #D7FD49;
  }

  a[data-nav].active span {
    color: #D7FD49;
  }

  a[data-nav].active div {
    border-color: #D7FD49;
  }

  /* Default state: gray icons */
  a[data-nav]:not(.active) svg {
    color: #94a3b8;
  }

  a[data-nav]:not(.active) span {
    color: #94a3b8;
  }

  a[data-nav]:not(.active) div {
    border-color: rgba(255, 255, 255, 0.2);
  }
</style>

<script>
  // Set active state based on current path
  document.addEventListener('DOMContentLoaded', () => {
    const currentPath = window.location.pathname.replace(/\/$/, '') || '/';

    // Remove trailing slash for comparison
    const navItems = document.querySelectorAll('a[data-nav]');

    navItems.forEach((item) => {
      if (!item) return;
      const itemPath = item.getAttribute('href')?.replace(/\/$/, '') || '';

      // Check if this is active page
      if (currentPath === itemPath) {
        item.classList.add('active');
        item.classList.remove('text-slate-400');
        item.querySelector('svg')?.classList.remove('text-slate-400');
        item.querySelector('span')?.classList.remove('text-slate-400');
      } else {
        item.classList.remove('active');
        item.classList.add('text-slate-400');
        item.querySelector('svg')?.classList.add('text-slate-400');
        item.querySelector('span')?.classList.add('text-slate-400');
      }
    });
  });
</script>
